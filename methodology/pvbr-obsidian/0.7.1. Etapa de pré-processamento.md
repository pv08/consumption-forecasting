Antes que cada modelo possa ser devidamente treinado, é de extrema importância realizar uma análise superficial na base de dados a ser utilizada. Tendo o objetivo da constatação das variáveis atreladas ao consumo e daquela a ser inferida, essa análise superficial descreverá se existe a característica de série temporal multivariada, além de tudo, se a ordem está devidamente disposta para a construção dos indicadores.

Tendo realizada a análise superficial dos dados, é possível então descrever as sazionalidades e encontrar os *outliers* das leituras. Para essa última observação, é importante destacar que banco de dados compostos por diversas leituras de *smartmeters* por equipamento, a sua disponiblização pode ser um sistema agragativo de diversas leituras, o que remete ao fato de há a possibilidade de equipamentos não serem comuns a diversos consumidores. Por consequência, deve-se atentar ao fato de pode existir leituras nulas, as quais também descrevem os *outliers*. Tais valores nulos ou discrepantes irão impactar tanto o treinamento para a inferência quanto a representação analítica do banco de dados, gerando erros na percepção dos pesas das características.

Atrelado ao fato de que o consumo é possível de ser inferido para um consumidor único, e que esse consumidor possui um perfil único de demanda de energia, é preciso agregar todos os componentes descritivos do que é consumo ou não de energia. Em outras palavras, todas as leituras de potência e corrente demanda serão somadas a somente um valor descritivo do consumo, respeitando as unidades de medida, já que corrente, potência e voltagem não podem ser somadas pois são características distintas. 

O processo de agregar esses valores gera a desvantagem da drástica diminuição da quantidade de características, o que faz supor que o modelo a ser treinado perderá a capacidade de extrair variáveis correlacionadas ao seu *label*. Tal desvantagem abre portas para a utilização da técnica de *feature enginnering* em dois aspectos:
	$(i)$ utilização da variável temporal, em *timestamp* para a construção de outras: valores unitário da data (dia, mês, anos, *Unix epoch*, contagem da semana e outras derivadas) podem ser obtidas para a construção da correlação. Importante destacar, que como visto em \cite{[[wandim-2020]]}, para facilitar a inferência da sazonalidade, por parte do modelo, o componente da data também pode ser utilizado para a contrução de outras por função cossenoide e senoide; 
	$(ii)$ composição de variáveis elétricas derivadas: valores de potências, correntes e voltagem geram outras, tais como o fator de potência, potência aparente, resistência, indutância e outras variáveis complexas que também descrevem o estado do circuito analisado;

O *feature enginneering* supracitado fornece uma quantidade significativa de características descritivas do consumo. Porém, é preciso obter dados metereológicos, pois, de acordo com \citeonline{[[tao-2022]]}, a metereologia impacta na previsão de demanda visto que, períodos demasiadamente quentes ou frios,o padrão pré-estabelecido do consumo de energia tende a mudar, como também explica \citeonline{[[dryar-1944]]}.

Assim sendo, a etapa de *feature enginneering* se extende a expansão de características, de forma a inserir aquelas descritivas das unidades metereológicas, tais como: a cobertura das nuvens, preciptação, hora do crepúsculo entre outras. Importante destacar que, é possível a existência de banco de dados já prontos com essas características. Banco de dados que são customizadas, essas características voltadas ao tempo devem ser obtidas na mesma configuração original, ou seja, na mesma escala de tempo e localidade onde foi obtida o consumo de energia.

Fim do processo de *feature enginneering*, o conjunto dos dados descreveram temporalmente as características envolvidas ao consumo: fatores de unidade temporal, o estado metereológico e os conjuntos relacionados à medida elétrica demandada do circuito analisado. Novamente, é importante destacar que a inferência e a análise da demanda é individual. Desta forma, as leituras que forem compiladas a somente um banco de dados, deve ser separada para que os modelos a serem treinado não identifiquem padrões distintos.

Estando ou não separados as leituras de demanda, a etapa possui agora uma bifurcação que ajudará na construção de um comparativo entre os resultados. O produto de toda a *feature engineering*, seguindo \citeonline{[[tao-2022]]} e outras pesquisas na literatura, demonstram características que irão impactar ao consumo e a inferência dela. Porém, existe o problema da maldição da dimensionalidade, onde o aumento substancial das *features* envolvidas por ocasionar o *overfitting* \cite{[[bellman-1961]]}.  A técnica de redução da dimensionalidade será aplicada para o caso, sendo mantida aquelas que são vistas como mais importantes para a descrição do banco de dados.

No presente trabalho , utilizando o PCA, será possível obter hierarquicamente as *features* mais correlacionadas, aquelas que possuem a maior descritividade do *dataset* \cite{[[he-2020]]}. Neste ponto, acontece a primeira comparação do comportamento dos modelos, um sendo treinado com a completude dos dados e outro com aqueles vistos como mais importantes para o mesmo conjunto.

O perfil de demanda escolhido para ambos conjuntos de dados, da totalidade e reduzido por *feature selection*, será treinado pelo modelo e finalmente comparado. Os dados serão então normalizados, divididos nos subconjuntos de treinamento, validação e avaliação, sendo, por fim, transformados em sequências utilizando a técnica de *sliding window*. A janela temporal dependerá da configuração de intervalo de leituras, mas o mais indicado é um padrão $60$ leituras por se adequar a hora, minuto e segundo.

A etapa de pré-processamento da metodologia finaliza com a obtenção dos subconjuntos em formato de sequência temporal. A próxima subseção descreverá o procedimento a ser adotado no pós-treinamento do modelo, visto que o treinamento será explicado detalhadamente no capítulo de resultados.
